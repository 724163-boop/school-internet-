<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>internet</title>
</head>
<body>
    <lang="ja">
    <lang="en">    
        <h1>Internet β(SI)</h1>
        <h1>welcom to deepInternet</h1>
        <h2>自由な発言、安心の匿名性</h2>
        <h1>匿名掲示板</h1>
    <div id="messages"></div>
    <input type="text" id="messageInput" placeholder="メッセージを入力..." />
    <button id="sendButton">送信</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        // 過去のメッセージを表示
        socket.on('loadMessages', (messages) => {
            messages.forEach(message => {
                displayMessage(message);
            });
        });

        // 新しいメッセージを受信
        socket.on('receiveMessage', (message) => {
            displayMessage(message);
        });

        // メッセージを表示する関数
        function displayMessage(message) {
            const messagesDiv = document.getElementById("messages");
            messagesDiv.innerHTML += `<div>${message}</div>`;
            messagesDiv.scrollTop = messagesDiv.scrollHeight; // スクロールを最新メッセージに合わせる
        }

        // メッセージ送信
        document.getElementById("sendButton").onclick = () => {
            const messageInput = document.getElementById("messageInput");
            const message = messageInput.value;
            if (message) {
                socket.emit('sendMessage', message);
                messageInput.value = ''; // 入力フィールドをクリア
            }
        };
    </script>
</body>
</html>
        







